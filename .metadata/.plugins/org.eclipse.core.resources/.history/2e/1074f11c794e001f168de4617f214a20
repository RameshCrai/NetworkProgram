package URL;

import java.io.UnsupportedEncodingException;
import java.net.URLDecoder;
import java.util.Scanner;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class UrlDecoder {
	public static void main(String[] args) {
		Scanner scanner = new Scanner(System.in);
		System.out.println("Enter encoded URL:");
		String encodedUrl = scanner.nextLine();

		if (isValidUrl(encodedUrl)) {
			try {
				// Decode the URL using UTF-8 encoding
				String decodedUrl = URLDecoder.decode(encodedUrl, "UTF-8");
				System.out.println("Decoded URL: " + decodedUrl);
			} catch (UnsupportedEncodingException e) {
				System.err.println("UTF-8 encoding is not supported.");
			}
		} else {
			System.err.println("Invalid encoded URL format.");
		}
	}

	// Method to check if the URL is valid
	private static boolean isValidUrl(String url) {
		Pattern pattern = Pattern.compile("%[0-9A-Fa-f]{2}");
		Matcher matcher = pattern.matcher(url);
		int index = 0;

		while (matcher.find(index)) {
			if (matcher.start() != index) {
				return false;
			}
			index = matcher.end();
		}

		return index == url.length();
	}
}
